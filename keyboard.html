<!DOCTYPE html>
<html lang="tk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Ýazyjy - @YouHapp_Robot</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=JetBrains+Mono:wght@400;700&display=swap');
        :root { --bg: #050505; --primary: #00f3ff; --secondary: #bc13fe; --success: #00ff9d; --error: #ff0055; --surface: rgba(20, 20, 30, 0.6); --glow-strong: 0 0 15px var(--primary), 0 0 30px var(--primary); }
        body { background-color: var(--bg); background-image: radial-gradient(circle at 50% 0%, #1a1a2e 0%, var(--bg) 80%); color: var(--primary); font-family: 'JetBrains Mono', monospace; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; overflow-x: hidden; user-select: none; }
        
        /* --- GÜNCELLENEN İMZA --- */
        .watermark { position: absolute; top: 10px; width: 100%; text-align: center; font-family: 'Orbitron', sans-serif; font-size: 14px; color: rgba(255, 255, 255, 0.15); letter-spacing: 3px; pointer-events: none; z-index: 0; text-transform: uppercase; }

        h1 { font-family: 'Orbitron', sans-serif; font-size: 3.5rem; margin: 30px 0 20px; text-transform: uppercase; letter-spacing: 8px; color: white; text-shadow: 0 0 10px var(--secondary), 0 0 40px var(--secondary); animation: flicker 3s infinite alternate; }
        @keyframes flicker { 0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; } 20%, 24%, 55% { opacity: 0.5; text-shadow: none; } }
        .controls { display: flex; gap: 15px; margin-bottom: 20px; z-index: 10; }
        .diff-btn { background: transparent; border: 1px solid var(--primary); color: var(--primary); padding: 8px 20px; cursor: pointer; font-family: 'Orbitron', sans-serif; transition: 0.3s; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); }
        .diff-btn.active, .diff-btn:hover { background: var(--primary); color: var(--bg); box-shadow: var(--glow-strong); }
        .stats-container { display: flex; gap: 20px; margin-bottom: 30px; z-index: 10; }
        .stat-box { background: var(--surface); border-left: 3px solid var(--secondary); padding: 15px 30px; border-radius: 4px; text-align: center; backdrop-filter: blur(10px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); min-width: 100px; position: relative; overflow: hidden; }
        .stat-value { font-family: 'Orbitron', sans-serif; font-size: 2.2rem; font-weight: bold; color: white; text-shadow: 0 0 10px rgba(255,255,255,0.5); }
        .stat-label { font-size: 0.8rem; color: #aaa; text-transform: uppercase; letter-spacing: 1px; }
        .combo-box { position: absolute; top: 20px; right: 20px; text-align: right; }
        .combo-count { font-size: 3rem; font-weight: bold; color: var(--success); text-shadow: 0 0 20px var(--success); display: block; transition: transform 0.1s; }
        .combo-label { font-family: 'Orbitron'; font-size: 0.9rem; color: white; }
        .typing-area-container { background: rgba(10, 10, 15, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 0 50px rgba(0, 243, 255, 0.1); padding: 40px; border-radius: 15px; max-width: 900px; width: 90%; position: relative; min-height: 150px; transition: transform 0.1s; }
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; border-color: var(--error) !important; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
        #quote-display { font-size: 1.6rem; line-height: 1.8; word-spacing: 8px; }
        .char { color: #555; transition: color 0.1s; position: relative; }
        .char.correct { color: var(--success); text-shadow: 0 0 10px var(--success); }
        .char.incorrect { color: var(--error); text-shadow: 0 0 10px var(--error); text-decoration: underline wavy var(--error); }
        .char.active { color: var(--bg); background-color: var(--primary); box-shadow: 0 0 15px var(--primary); border-radius: 2px; animation: cursorBlink 0.8s infinite; }
        @keyframes cursorBlink { 50% { opacity: 0.7; } }
        #input-field { position: absolute; opacity: 0; z-index: -1; }
        .restart-btn { margin-top: 40px; background: transparent; border: 2px solid var(--secondary); color: var(--secondary); padding: 15px 40px; font-family: 'Orbitron', sans-serif; font-size: 1.2rem; cursor: pointer; transition: all 0.3s; text-transform: uppercase; letter-spacing: 2px; position: relative; overflow: hidden; z-index: 10; }
        .restart-btn:hover { color: white; box-shadow: 0 0 30px var(--secondary); background: var(--secondary); }
        #result-modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(5, 5, 10, 0.95); z-index: 100; justify-content: center; align-items: center; flex-direction: column; backdrop-filter: blur(10px); }
        #result-modal h2 { font-family: 'Orbitron'; font-size: 4rem; color: var(--primary); margin-bottom: 10px; }
        .particle { position: absolute; pointer-events: none; width: 4px; height: 4px; background: white; border-radius: 50%; animation: particleFly 0.6s ease-out forwards; }
        @keyframes particleFly { 0% {transform: translate(0,0) scale(1); opacity:1;} 100% {transform: translate(var(--tx), var(--ty)) scale(0); opacity:0;} }
    </style>
</head>
<body>
    <div class="watermark">@YouHapp_Robot</div>
    <h1>NEON ÝAZYJY</h1>
    <div class="controls">
        <button class="diff-btn active" onclick="setDifficulty('ansat')">AŇSAT</button>
        <button class="diff-btn" onclick="setDifficulty('orta')">ORTA</button>
        <button class="diff-btn" onclick="setDifficulty('kyn')">KYN</button>
    </div>
    <div class="combo-box"><span class="combo-count" id="combo">0</span><span class="combo-label">COMBO X</span></div>
    <div class="stats-container">
        <div class="stat-box"><span class="stat-value" id="timer">60</span><span class="stat-label">WAGT</span></div>
        <div class="stat-box"><span class="stat-value" id="wpm">0</span><span class="stat-label">WPM</span></div>
        <div class="stat-box"><span class="stat-value" id="highscore">0</span><span class="stat-label">REKORD</span></div>
    </div>
    <div class="typing-area-container" id="typing-box" onclick="focusInput()"><div id="quote-display"></div><textarea id="input-field"></textarea></div>
    <button class="restart-btn" onclick="restartGame()">Täzeden Başla</button>
    <div id="result-modal">
        <h2>TAMAMLANDY!</h2>
        <div class="stats-container">
            <div class="stat-box"><span class="stat-value" id="final-wpm">0</span> WPM</div>
            <div class="stat-box"><span class="stat-value" id="final-acc">0%</span> DÜRSLÜK</div>
            <div class="stat-box"><span class="stat-value" id="final-combo">0</span> MAX COMBO</div>
        </div>
        <button class="restart-btn" onclick="restartGame()">Ýene Oýna</button>
    </div>
    <script>
        const quotesData={ansat:["Bilim akylyň çyrasydyr.","Zähmet çekip gazanan lezzetini duýar.","Kitap okamak dünýäni açmakdyr.","Gowy söz ýylan hininden çykarar.","Wagt altyndan gymmatdyr."],orta:["Magtymguly sözle tiliň senasy bu dünýäniň geçer ýokdur binasy.","Häzirki zaman tehnologiýalary durmuşymyzy düýpgöter üýtgetdi.","Programmirleme diňe kod ýazmak däl eýsem mesele çözmek sungatydyr.","Üstünlik diňe taýýarlyk we pursat gabat gelende gazanylýar."],kyn:["Emeli aň we maşyn öwrenişi geljegiň dünýäsini şekillendirýän iň wajyp tehnologiýalardyr.","Çylşyrymly kodlary ýazmak üçin sabyrlylyk we ünsli bolmak talap edilýär.","Internet ulgamynda maglumat howpsuzlygy häzirki döwrüň iň uly kiber meselelerinden biridir."]};
        let currentDifficulty='ansat',timer=60,timeLeft=timer,timeElapsed=0,timerInterval=null,gameStarted=false,errors=0,combo=0,maxCombo=0,currentQuoteChars=[],audioCtx=null;
        const quoteDisplay=document.getElementById('quote-display'),inputField=document.getElementById('input-field'),timerEl=document.getElementById('timer'),wpmEl=document.getElementById('wpm'),hsEl=document.getElementById('highscore'),comboEl=document.getElementById('combo'),modal=document.getElementById('result-modal'),typingBox=document.getElementById('typing-box');
        hsEl.innerText=localStorage.getItem('neonHighscore')||0;
        function playSound(t){if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();const o=audioCtx.createOscillator(),g=audioCtx.createGain();o.connect(g);g.connect(audioCtx.destination);const n=audioCtx.currentTime;if(t==='click'){o.type='triangle';o.frequency.setValueAtTime(600,n);g.gain.setValueAtTime(0.1,n);g.gain.exponentialRampToValueAtTime(0.01,n+0.05);o.start(n);o.stop(n+0.05)}else if(t==='error'){o.type='sawtooth';o.frequency.setValueAtTime(100,n);g.gain.setValueAtTime(0.2,n);g.gain.linearRampToValueAtTime(0.01,n+0.15);o.start(n);o.stop(n+0.15)}else{o.type='sine';o.frequency.setValueAtTime(440,n);g.gain.setValueAtTime(0.3,n);g.gain.linearRampToValueAtTime(0,n+0.5);o.start(n);o.stop(n+0.5)}}
        function spawnParticles(x,y,s){const c=s?8:4,cl=s?'#00ff9d':'#ff0055';for(let i=0;i<c;i++){const p=document.createElement('div');p.classList.add('particle');p.style.left=x+'px';p.style.top=y+'px';p.style.backgroundColor=cl;const a=Math.random()*Math.PI*2,v=20+Math.random()*30;p.style.setProperty('--tx',Math.cos(a)*v+'px');p.style.setProperty('--ty',Math.sin(a)*v+'px');document.body.appendChild(p);setTimeout(()=>p.remove(),600)}}
        function setDifficulty(l){currentDifficulty=l;document.querySelectorAll('.diff-btn').forEach(b=>b.classList.remove('active'));event.target.classList.add('active');restartGame()}
        function renderNewQuote(){const l=quotesData[currentDifficulty],q=l[Math.floor(Math.random()*l.length)];quoteDisplay.innerHTML='';currentQuoteChars=q.split('').map(c=>{const s=document.createElement('span');s.innerText=c;s.classList.add('char');quoteDisplay.appendChild(s);return s});currentQuoteChars[0].classList.add('active')}
        function focusInput(){inputField.focus()}
        function startGame(){if(gameStarted)return;gameStarted=true;timerInterval=setInterval(()=>{timeLeft--;timeElapsed++;timerEl.innerText=timeLeft;calculateStats();if(timeLeft<=0)endGame()},1000)}
        function calculateStats(){const t=inputField.value.length,m=timeElapsed/60,w=Math.round((t/5)/(m===0?1:m));wpmEl.innerText=w;const h=parseInt(localStorage.getItem('neonHighscore')||0);if(w>h){localStorage.setItem('neonHighscore',w);hsEl.innerText=w;hsEl.style.color='#00ff9d'}}
        function endGame(){clearInterval(timerInterval);inputField.disabled=true;modal.style.display='flex';playSound('win');const t=inputField.value.length;let a=t>0?Math.round(((t-errors)/t)*100):0;if(a<0)a=0;document.getElementById('final-wpm').innerText=wpmEl.innerText;document.getElementById('final-acc').innerText=`${a}%`;document.getElementById('final-combo').innerText=maxCombo}
        function restartGame(){clearInterval(timerInterval);timeLeft=timer;timeElapsed=0;errors=0;combo=0;maxCombo=0;gameStarted=false;inputField.value='';inputField.disabled=false;timerEl.innerText=timeLeft;wpmEl.innerText='0';comboEl.innerText='0';comboEl.style.transform='scale(1)';typingBox.classList.remove('shake');hsEl.style.color='white';modal.style.display='none';renderNewQuote();focusInput()}
        inputField.addEventListener('input',(e)=>{if(!gameStarted)startGame();const q=currentQuoteChars,v=inputField.value.split('');const act=document.querySelector('.char.active');let r=act?act.getBoundingClientRect():null;q.forEach(s=>s.classList.remove('correct','incorrect','active'));v.forEach((c,i)=>{const s=q[i];if(!s)return;if(c===s.innerText)s.classList.add('correct');else s.classList.add('incorrect')});if(v.length>0){const l=v.length-1,t=q[l];if(t){if(v[l]===t.innerText){playSound('click');if(r)spawnParticles(r.left+10,r.top+10,true);combo++;if(combo>maxCombo)maxCombo=combo;comboEl.innerText=combo;comboEl.style.transform=`scale(${1+Math.min(combo/50,0.5)})`;comboEl.style.color='#00ff9d'}else{if(e.inputType!=="deleteContentBackward"){playSound('error');errors++;combo=0;comboEl.innerText=0;comboEl.style.color='#ff0055';if(r)spawnParticles(r.left+10,r.top+10,false);typingBox.classList.remove('shake');void typingBox.offsetWidth;typingBox.classList.add('shake')}}}}if(v.length<q.length)q[v.length].classList.add('active');if(v.length>=q.length){inputField.value='';renderNewQuote();playSound('win')}});
        restartGame();
    </script>
</body>
</html>
